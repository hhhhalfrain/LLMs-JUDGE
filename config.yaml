# 模型/接口配置（DashScope OpenAI compatible）
llm:
  base_url: "https://poloai.top/v1"
  api_key_env: "QWEN_API_KEY"
  model: "qwen3-32b"
  temperature: 0.2
  top_p: 0.8
  max_tokens: 800
  timeout_sec: 120

# 数据路径
paths:
  personas_json: "data/personas.json"
  books_root: "data/books"
  output_root: "runs"

# 实验开关
experiment:
  # 三种评测方式：aggregation / incremental / summary_based
  method: "summary_based"

  use_persona: true
  use_discussion: true
  use_interest_filter: true

  # 讨论设置
  discussion_rounds: 1
  discussion_window: 10

  # 代理数量（从 personas.json 里取前 N 个；也可改为随机采样）
  n_agents: 4

  # 评分保留几位小数（建议 1 位）
  score_decimals: 1

  # 是否将讨论后的 final_score 作为最终分（否则用 pre_discussion_score）
  discussion_affects_score: true

logging:
  verbose_llm_io: true          # 每次请求打印完整对话
  also_write_to_file: true      # 同时写入文件（强烈建议，否则控制台很快爆炸）
  log_dir: "runs/logs"
  print_parsed_json: true       # 额外打印解析后的 JSON（可读性更好）

concurrency:
  enabled: true
  max_workers: 8                # 建议 = n_agents 或略小
